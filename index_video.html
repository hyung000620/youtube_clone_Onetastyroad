<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/jpg" href="./img/channels4_profile.jpg">
    <!-- <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" /> -->
    <meta charset="UTF-8">
    <meta name="title" content="영상추천 유튜브">
    <meta name="description" content="영상추천 유튜브">
    <meta name="keywords" content="ai, 영상추천, 유튜브">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="Korean">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css_1.css">
    <link rel="stylesheet" href="./css_2.css"> 
    <style>
    .side-bar{
        display:none;
    }
    </style>
    <title>TastyTube - Video</title>
</head>
<body>
    <!-- upper navigation bar -->
    <header class="navbar">    
        <div class="toggle-btn" onclick="toggleSideBar()">
            <img src="img/css_1_header/hamburger.svg" alt="">
        </div>
        <img src="img/css_1_header/Youtube-Logo.svg" class="logo" alt="" onclick="moveHome()">
        <div class="search-box" >
            <input onkeyup ="enterkey(this)" id="searchInput" type="search" class="search-bar" placeholder="search">
            <button onclick="search()" class="search-btn"> <div class="iconbox" style="margin:-0.25em 0em 0em 0em"><img class="text-icon" style="width:1.125em;" src="img_svg/css_1_header_svg/search.svg" alt="검색"></div></button>
            <div class="iconbox micbox"><img class="mic text-icon icon" src="img/css_1_header/mic.svg" alt="음성으로 검색"></div>
        </div>
        <div class="user-options">
            <div class="iconbox"><img class="icon text-icon" style="height:0.875em;" src="img_svg/css_1_header_svg/create.svg" alt="만들기"></div>
            <div class="iconbox"><img class="icon text-icon" style="height:1em;" src="img_svg/css_1_header_svg/apps.svg" alt="앱"></div>
            <!-- notifications icon -->
            <div class="iconbox" id="notificationsModal" onclick="modalVisible()"><img class="icon text-icon noticeIcon" style="height:1.313em; position: relative;" src="img_svg/css_1_header_svg/notifications.svg" alt="알림">
                <!-- notifications 창 -->
                <div class="notifications-modal-background">
                    <div class="notifications-modal-header">
                        <p>알림</p>
                        <div class="iconbox" style="margin:0"><img class="icon text-icon" src="img_svg/css_2_nav_svg/Settings.svg" alt="설정"></div>
                    </div>
                    <div class="notifications-modal-body">
                        <div class="notifications-reply">
                            <p>최신 댓글</p>
                            <div>
                                <img src="img/css_1_header/notificationspro.png" class="notifications-pro">
                                <div class="notifications-text">
                                    <p>LeeJunHyeong님의 답글: "피카츄랑 단데기랑 바꾸실래요?"</p>
                                    <span>12분 전</span>
                                </div>
                                <img src="img/css_1_header/notificationsvideo.png" class="notifications-video"> 
                            </div>
                        </div>
                        <div  class="notifications-more" style="padding-bottom: 1.5em;">
                            <p>알림 더보기</p>
                            <div>
                                <img src="img/css_1_header/notificationspro2.png" class="notifications-pro">
                                <div class="notifications-text">
                                    <p>KimMinHo님의 답글: "오늘도 화이팅입니다!!"</p>
                                    <span>20분 전</span>
                                </div>
                                <img src="img/css_1_header/notificationsvideo.png" class="notifications-video"> 
                            </div>
                            <div>
                                <img src="img/css_1_header/oreumi.jpg" class="notifications-pro">
                                <div class="notifications-text">
                                    <p>KimDoUn님의 답글: "자 마이크테스트 먼저 시작하겠습니다! 잘 들리시나요?"</p>
                                    <span>42분 전</span>
                                </div>
                                <img src="img/css_1_header/notificationsvideo2.png" class="notifications-video"> 
                            </div>
                            <div>
                                <img src="img/css_1_header/notificationspro3.png" class="notifications-pro">
                                <div class="notifications-text">
                                    <p>Oreumi에서 업로드한 동영상: 오르미 2기 여러분, 안녕하세요!</p>
                                    <span>3시간 전</span>
                                </div>
                                <img src="img/css_1_header/notificationsvideo2.png" class="notifications-video"> 
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <div style="margin: 0em 0.875em" class="user-dp" onclick="moveMyChannel()">
                <img src="img/channels4_profile.jpg" alt="">
            </div>
        </div>
    </header>

    <!-- sidebar -->
    <nav class="side-bar">
        <div>
            <a href="#" class="links active"><img src="img_svg/css_2_nav_svg/Home.svg" alt="">Home</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Explore.svg" alt="">Explore</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Subscriptions.svg" alt="">Subscription</a>
        </div>
        <hr class="seperator">
        <div>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Library.svg" alt="">Library</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/History.svg" alt="">History</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/YourVideos.svg" alt="">Your Video</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/WatchLater.svg" alt="">Watch Later</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/LikedVideos.svg" alt="">like video</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/ShowMore.svg" alt="">show more</a>
        </div>
        <hr class="seperator">
        <div>
            <p>SUBSCRIPTIONS</p>
            <a href="#" class="Avatar"><img src="img/css_2_nav/User-Avatar1.png" alt="">LeeJunHyeong</a>
            <a href="#" class="Avatar"><img src="img/css_2_nav/User-Avatar2.png" alt="">KimMinHo</a>
            <a href="#" class="Avatar"><img src="img/css_2_nav/User-Avatar3.png" alt="">KimJuHyeong</a>
            <a href="#" class="Avatar"><img src="img/css_2_nav/User-Avatar4.png" alt="">ByunDuHyeon</a>
            <a href="#" class="Avatar"><img src="img/css_2_nav/User-Avatar5.png" alt="">JeongHyoJoo</a>
            <a href="#" class="Avatar"><img src="img/css_2_nav/User-Avatar6.png" alt="">OhReumi</a>
            <a href="#" class="Avatar"><img src="img/css_2_nav/User-Avatar7.png" alt="">KimDoUn</a>
            <a href="#" class="links"><img src="img/css_2_nav/arrowBottom.png" alt="">Show 13 more</a>
        </div>
        <hr class="seperator">
        <div>
            <p>MORE FROM YOUTUBE</p>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/YoutubePremium.svg" alt="">Youtube Premium</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Gaming.svg" alt="">Gaming</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Live.svg" alt="">Live</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Sports.svg" alt="">Sports</a>
        </div>
        <hr class="seperator">
        <div>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Settings.svg" alt="">Settings</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Reporthistory.svg" alt="">Report history</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Help.svg" alt="">Help</a>
            <a href="#" class="links"><img src="img_svg/css_2_nav_svg/Feedback.svg" alt="">Send feedback</a>
        </div>
    </nav>

    
    <!-- header를 제외한 안쪽 내용 section -->
    <section style="display: flex;">
        <!-- primary video player를 포함한 화면 오른쪽 -->
        <div id="primary">
            <!-- video player -->
            <div class="video-player">
                <div id="videoInfo"></div>
            </div>

            <!-- comments -->
            <div class="comments">
                <!-- write-comment -->
                <div class="write-comment">
                    <div>
                        <div class="count">2 Comments</div>
                        <div class="comments-dropdown">
                            <img src="img_svg/video_svg/Dropdown.svg" alt="">
                            Sort by
                        </div>
                    </div>
                    <div class="write-area">
                        <img src="img/channels4_profile.jpg" alt="">
                        <input id="comment" type="text" onclick="showCommentBtn()" onkeyup="commentEnterkey()" placeholder="Add a public comment..." oninput="commentAction()">
                        <div id="commentBtn" style="display: none;">
                            <button id="commentCancel" onclick="hideCommentBtn()">취소</button>
                            <button id="commentSubmit" onclick="addComment()" disabled>댓글</button>
                        </div>
                    </div>
                </div>
                
                <!-- view-comment -->
                <div class="view-comment">
                    <div>
                        <div class="profile-pic"><img src="img/video/User-Pic2.png" alt=""></div>
                        <div class="view-area">
                            <div class="comment-header">James Gouse <span> 8 hours ago</span></div>
                            <div class="comment-text">Wow, world is full of different skills </div>
                            <div class="comment-toolbar">
                                <img src="img_svg/video_svg/Liked.svg" alt="" onclick="toggleLike(this)">
                                <p id="likeCount">20</p>
                                <img src="img_svg/video_svg/DisLiked.svg" alt="" onclick="toggleLike(this)">
                                <p id="dislikeCount">0</p>
                                <p>REPLY</p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="profile-pic"><img src="img/video/User-Pic3.png" alt=""></div>
                        <div class="view-area">
                            <div class="comment-header">Alan Cooper <span>  4 days ago</span></div>
                            <div class="comment-text">Can you provide?</div>
                            <div class="comment-toolbar">
                                <img src="img_svg/video_svg/Liked.svg" alt="" onclick="toggleLike(this)">
                                <p class="likeCount">3</p>
                                <img src="img_svg/video_svg/DisLiked.svg" alt="" onclick="toggleLike(this)">
                                <p class="likeCount">5</p>
                                <p>REPLY</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <!-- content -->
    <aside id="content">
        <div class="content-top-menu">
        </div>
        <div id="videolist"></div>
    </aside>
    </section>
<script src="./js_2.js"></script>
<script src="./js_1.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    let url = window.location.search;
    let res = url.match(/id=(\d+)/);
    let id = res? res[1]:1;
    
    displayVideo(id).catch(error => {
        console.error('유튜브 정보를 가져오는데 실패했습니다. ', error);
    });
});
const searchBtn = document.querySelector('.search-btn');
const searchInput = document.getElementById('searchInput');
searchBtn.addEventListener('click',function(){
    location.href=`./index.html?search=${searchInput.value}`
});    
</script>
</body>
</html>